"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof = require("@babel/runtime/helpers/typeof");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = exports.MapInfoPanel = void 0;
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));
var _react = _interopRequireWildcard(require("/Users/yuichiyazaki/Documents/GitHubRepository/_app_fork/kepler.gl-db/node_modules/react"));
var _styledComponents = _interopRequireDefault(require("/Users/yuichiyazaki/Documents/GitHubRepository/_app_fork/kepler.gl-db/node_modules/styled-components"));
var _imageModalContainer = _interopRequireDefault(require("./image-modal-container"));
var _statusPanel = _interopRequireWildcard(require("./status-panel"));
var _providerSelect = require("./cloud-components/provider-select");
var _src = require("/Users/yuichiyazaki/Documents/GitHubRepository/_app_fork/kepler.gl-db/src/constants/src");
var _styledComponents2 = require("../common/styled-components");
var _imagePreview = _interopRequireDefault(require("../common/image-preview"));
var _src2 = require("/Users/yuichiyazaki/Documents/GitHubRepository/_app_fork/kepler.gl-db/src/localization/src");
var _modal = require("../common/modal");
var _useCloudListProvider2 = require("../hooks/use-cloud-list-provider");
var _templateObject, _templateObject2; // SPDX-License-Identifier: MIT
// Copyright contributors to the kepler.gl project
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != _typeof(e) && "function" != typeof e) return { "default": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n["default"] = e, t && t.set(e, n), n; }
var StyledSaveMapModal = _styledComponents["default"].div.attrs({
  className: 'save-map-modal'
})(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n  .save-map-modal-content {\n    min-height: 400px;\n    flex-direction: column;\n  }\n\n  .description {\n    width: 300px;\n  }\n\n  .image-preview-panel {\n    width: 300px;\n\n    .image-preview {\n      padding: 0;\n    }\n  }\n\n  .map-info-panel {\n    flex-direction: column;\n  }\n\n  .save-map-modal-description {\n    .modal-section-subtitle {\n      margin-left: 6px;\n    }\n  }\n"])));
var StyledCompactExportSection = (0, _styledComponents["default"])(_styledComponents2.StyledExportSection)(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n  margin: 5px 0;\n"])));
var nop = function nop() {
  return;
};
var MapInfoPanel = exports.MapInfoPanel = function MapInfoPanel(_ref) {
  var mapInfo = _ref.mapInfo,
    characterLimits = _ref.characterLimits,
    onChangeInput = _ref.onChangeInput;
  var _mapInfo$title = mapInfo.title,
    title = _mapInfo$title === void 0 ? '' : _mapInfo$title;

  // Generate default title with current date and time in YYYY-MM-DD HH:mm format
  var getDefaultTitle = function getDefaultTitle() {
    var now = new Date();
    var year = now.getFullYear();
    var month = String(now.getMonth() + 1).padStart(2, '0');
    var day = String(now.getDate()).padStart(2, '0');
    var hours = String(now.getHours()).padStart(2, '0');
    var minutes = String(now.getMinutes()).padStart(2, '0');
    return "".concat(year, "-").concat(month, "-").concat(day, " ").concat(hours, ":").concat(minutes);
  };
  var displayTitle = title || getDefaultTitle();
  return /*#__PURE__*/_react["default"].createElement("div", {
    className: "selection map-info-panel",
    "data-testid": _src.dataTestIds.providerMapInfoPanel
  }, /*#__PURE__*/_react["default"].createElement(_styledComponents2.StyledModalSection, {
    className: "save-map-modal-name"
  }, /*#__PURE__*/_react["default"].createElement("div", {
    className: "modal-section-title"
  }, "Name*"), /*#__PURE__*/_react["default"].createElement("div", null, /*#__PURE__*/_react["default"].createElement(_styledComponents2.InputLight, {
    id: "map-title",
    type: "text",
    value: displayTitle,
    onChange: function onChange(e) {
      return onChangeInput('title', e);
    },
    placeholder: "Type map title"
  }))));
};
var SaveMapHeader = function SaveMapHeader(_ref2) {
  var cloudProviders = _ref2.cloudProviders;
  return /*#__PURE__*/_react["default"].createElement(_styledComponents2.StyledExportSection, null, /*#__PURE__*/_react["default"].createElement("div", {
    className: "description"
  }, /*#__PURE__*/_react["default"].createElement("div", {
    className: "title"
  }, /*#__PURE__*/_react["default"].createElement(_src2.FormattedMessage, {
    id: 'modal.saveMap.title'
  })), /*#__PURE__*/_react["default"].createElement("div", {
    className: "subtitle"
  }, /*#__PURE__*/_react["default"].createElement(_src2.FormattedMessage, {
    id: 'modal.saveMap.subtitle'
  }))), /*#__PURE__*/_react["default"].createElement(_providerSelect.ProviderSelect, {
    cloudProviders: cloudProviders
  }));
};
var STYLED_EXPORT_SECTION_STYLE = {
  margin: '2px 0'
};
var PROVIDER_MANAGER_URL_STYLE = {
  textDecoration: 'underline'
};
function SaveMapModalFactory() {
  var SaveMapModal = function SaveMapModal(_ref3) {
    var mapInfo = _ref3.mapInfo,
      exportImage = _ref3.exportImage,
      _ref3$characterLimits = _ref3.characterLimits,
      characterLimits = _ref3$characterLimits === void 0 ? _src.MAP_INFO_CHARACTER : _ref3$characterLimits,
      isProviderLoading = _ref3.isProviderLoading,
      providerError = _ref3.providerError,
      _ref3$onUpdateImageSe = _ref3.onUpdateImageSetting,
      onUpdateImageSetting = _ref3$onUpdateImageSe === void 0 ? nop : _ref3$onUpdateImageSe,
      cleanupExportImage = _ref3.cleanupExportImage,
      onSetMapInfo = _ref3.onSetMapInfo,
      onCancel = _ref3.onCancel,
      onConfirm = _ref3.onConfirm;
    var _useCloudListProvider = (0, _useCloudListProvider2.useCloudListProvider)(),
      provider = _useCloudListProvider.provider,
      cloudProviders = _useCloudListProvider.cloudProviders;
    var onChangeInput = function onChangeInput(key, _ref4) {
      var value = _ref4.target.value;
      onSetMapInfo((0, _defineProperty2["default"])({}, key, value));
    };
    var confirmButton = (0, _react.useMemo)(function () {
      return {
        large: true,
        disabled: Boolean(!(provider && mapInfo.title)),
        children: 'modal.button.save'
      };
    }, [provider, mapInfo]);
    var confirm = (0, _react.useCallback)(function () {
      if (provider) {
        onConfirm(provider);
      }
    }, [onConfirm, provider]);
    return /*#__PURE__*/_react["default"].createElement(_imageModalContainer["default"], {
      provider: provider,
      onUpdateImageSetting: onUpdateImageSetting,
      cleanupExportImage: cleanupExportImage
    }, /*#__PURE__*/_react["default"].createElement(StyledSaveMapModal, null, /*#__PURE__*/_react["default"].createElement(_styledComponents2.StyledModalContent, {
      className: "save-map-modal-content"
    }, /*#__PURE__*/_react["default"].createElement(SaveMapHeader, {
      cloudProviders: cloudProviders
    }), provider && /*#__PURE__*/_react["default"].createElement(_react["default"].Fragment, null, provider && provider.name === 'dataviz' ? /*#__PURE__*/_react["default"].createElement(_styledComponents2.StyledExportSection, {
      style: STYLED_EXPORT_SECTION_STYLE
    }, /*#__PURE__*/_react["default"].createElement("div", {
      className: "selection"
    }, /*#__PURE__*/_react["default"].createElement("a", {
      key: 1,
      href: "https://auth.dataviz.jp/?tool=kepler-gl",
      target: "_blank",
      rel: "noopener noreferrer",
      style: PROVIDER_MANAGER_URL_STYLE
    }, "\u4FDD\u5B58\u6E08\u307F\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u4E00\u89A7"))) : null, /*#__PURE__*/_react["default"].createElement(StyledCompactExportSection, null, /*#__PURE__*/_react["default"].createElement("div", {
      className: "description image-preview-panel"
    }, /*#__PURE__*/_react["default"].createElement(_imagePreview["default"], {
      exportImage: exportImage,
      width: _src.MAP_THUMBNAIL_DIMENSION.width,
      showDimension: false
    })), isProviderLoading ? /*#__PURE__*/_react["default"].createElement("div", {
      "data-testid": _src.dataTestIds.providerLoading,
      className: "selection map-saving-animation"
    }, /*#__PURE__*/_react["default"].createElement(_statusPanel.UploadAnimation, {
      icon: provider && provider.icon
    })) : /*#__PURE__*/_react["default"].createElement(MapInfoPanel, {
      mapInfo: mapInfo,
      characterLimits: characterLimits,
      onChangeInput: onChangeInput
    }))), providerError ? /*#__PURE__*/_react["default"].createElement(_statusPanel["default"], {
      isLoading: false,
      error: providerError.message,
      providerIcon: provider && provider.icon
    }) : null)), /*#__PURE__*/_react["default"].createElement(_modal.ModalFooter, {
      cancel: onCancel,
      confirm: confirm,
      confirmButton: confirmButton
    }));
  };
  return SaveMapModal;
}
var _default = exports["default"] = SaveMapModalFactory;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfc3R5bGVkQ29tcG9uZW50cyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfaW1hZ2VNb2RhbENvbnRhaW5lciIsIl9zdGF0dXNQYW5lbCIsIl9wcm92aWRlclNlbGVjdCIsIl9zcmMiLCJfc3R5bGVkQ29tcG9uZW50czIiLCJfaW1hZ2VQcmV2aWV3IiwiX3NyYzIiLCJfbW9kYWwiLCJfdXNlQ2xvdWRMaXN0UHJvdmlkZXIyIiwiX3RlbXBsYXRlT2JqZWN0IiwiX3RlbXBsYXRlT2JqZWN0MiIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsImUiLCJXZWFrTWFwIiwiciIsInQiLCJfX2VzTW9kdWxlIiwiX3R5cGVvZiIsImhhcyIsImdldCIsIm4iLCJfX3Byb3RvX18iLCJhIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJ1IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaSIsInNldCIsIlN0eWxlZFNhdmVNYXBNb2RhbCIsInN0eWxlZCIsImRpdiIsImF0dHJzIiwiY2xhc3NOYW1lIiwiX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbDIiLCJTdHlsZWRDb21wYWN0RXhwb3J0U2VjdGlvbiIsIlN0eWxlZEV4cG9ydFNlY3Rpb24iLCJub3AiLCJNYXBJbmZvUGFuZWwiLCJleHBvcnRzIiwiX3JlZiIsIm1hcEluZm8iLCJjaGFyYWN0ZXJMaW1pdHMiLCJvbkNoYW5nZUlucHV0IiwiX21hcEluZm8kdGl0bGUiLCJ0aXRsZSIsImdldERlZmF1bHRUaXRsZSIsIm5vdyIsIkRhdGUiLCJ5ZWFyIiwiZ2V0RnVsbFllYXIiLCJtb250aCIsIlN0cmluZyIsImdldE1vbnRoIiwicGFkU3RhcnQiLCJkYXkiLCJnZXREYXRlIiwiaG91cnMiLCJnZXRIb3VycyIsIm1pbnV0ZXMiLCJnZXRNaW51dGVzIiwiY29uY2F0IiwiZGlzcGxheVRpdGxlIiwiY3JlYXRlRWxlbWVudCIsImRhdGFUZXN0SWRzIiwicHJvdmlkZXJNYXBJbmZvUGFuZWwiLCJTdHlsZWRNb2RhbFNlY3Rpb24iLCJJbnB1dExpZ2h0IiwiaWQiLCJ0eXBlIiwidmFsdWUiLCJvbkNoYW5nZSIsInBsYWNlaG9sZGVyIiwiU2F2ZU1hcEhlYWRlciIsIl9yZWYyIiwiY2xvdWRQcm92aWRlcnMiLCJGb3JtYXR0ZWRNZXNzYWdlIiwiUHJvdmlkZXJTZWxlY3QiLCJTVFlMRURfRVhQT1JUX1NFQ1RJT05fU1RZTEUiLCJtYXJnaW4iLCJQUk9WSURFUl9NQU5BR0VSX1VSTF9TVFlMRSIsInRleHREZWNvcmF0aW9uIiwiU2F2ZU1hcE1vZGFsRmFjdG9yeSIsIlNhdmVNYXBNb2RhbCIsIl9yZWYzIiwiZXhwb3J0SW1hZ2UiLCJfcmVmMyRjaGFyYWN0ZXJMaW1pdHMiLCJNQVBfSU5GT19DSEFSQUNURVIiLCJpc1Byb3ZpZGVyTG9hZGluZyIsInByb3ZpZGVyRXJyb3IiLCJfcmVmMyRvblVwZGF0ZUltYWdlU2UiLCJvblVwZGF0ZUltYWdlU2V0dGluZyIsImNsZWFudXBFeHBvcnRJbWFnZSIsIm9uU2V0TWFwSW5mbyIsIm9uQ2FuY2VsIiwib25Db25maXJtIiwiX3VzZUNsb3VkTGlzdFByb3ZpZGVyIiwidXNlQ2xvdWRMaXN0UHJvdmlkZXIiLCJwcm92aWRlciIsImtleSIsIl9yZWY0IiwidGFyZ2V0IiwiX2RlZmluZVByb3BlcnR5MiIsImNvbmZpcm1CdXR0b24iLCJ1c2VNZW1vIiwibGFyZ2UiLCJkaXNhYmxlZCIsIkJvb2xlYW4iLCJjaGlsZHJlbiIsImNvbmZpcm0iLCJ1c2VDYWxsYmFjayIsIlN0eWxlZE1vZGFsQ29udGVudCIsIkZyYWdtZW50IiwibmFtZSIsInN0eWxlIiwiaHJlZiIsInJlbCIsIndpZHRoIiwiTUFQX1RIVU1CTkFJTF9ESU1FTlNJT04iLCJzaG93RGltZW5zaW9uIiwicHJvdmlkZXJMb2FkaW5nIiwiVXBsb2FkQW5pbWF0aW9uIiwiaWNvbiIsImlzTG9hZGluZyIsImVycm9yIiwibWVzc2FnZSIsInByb3ZpZGVySWNvbiIsIk1vZGFsRm9vdGVyIiwiY2FuY2VsIiwiX2RlZmF1bHQiXSwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9zcmMvbW9kYWxzL3NhdmUtbWFwLW1vZGFsLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgY29udHJpYnV0b3JzIHRvIHRoZSBrZXBsZXIuZ2wgcHJvamVjdFxuXG5pbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCBJbWFnZU1vZGFsQ29udGFpbmVyLCB7IEltYWdlTW9kYWxDb250YWluZXJQcm9wcyB9IGZyb20gJy4vaW1hZ2UtbW9kYWwtY29udGFpbmVyJztcbmltcG9ydCBTdGF0dXNQYW5lbCwgeyBVcGxvYWRBbmltYXRpb24gfSBmcm9tICcuL3N0YXR1cy1wYW5lbCc7XG5pbXBvcnQgeyBQcm92aWRlclNlbGVjdCB9IGZyb20gJy4vY2xvdWQtY29tcG9uZW50cy9wcm92aWRlci1zZWxlY3QnO1xuaW1wb3J0IHsgTUFQX1RIVU1CTkFJTF9ESU1FTlNJT04sIE1BUF9JTkZPX0NIQVJBQ1RFUiwgZGF0YVRlc3RJZHMgfSBmcm9tICdAa2VwbGVyLmdsL2NvbnN0YW50cyc7XG5cbmltcG9ydCB7XG4gIFN0eWxlZE1vZGFsQ29udGVudCxcbiAgSW5wdXRMaWdodCxcbiAgU3R5bGVkRXhwb3J0U2VjdGlvbixcbiAgU3R5bGVkTW9kYWxTZWN0aW9uXG59IGZyb20gJy4uL2NvbW1vbi9zdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgSW1hZ2VQcmV2aWV3IGZyb20gJy4uL2NvbW1vbi9pbWFnZS1wcmV2aWV3JztcbmltcG9ydCB7IEZvcm1hdHRlZE1lc3NhZ2UgfSBmcm9tICdAa2VwbGVyLmdsL2xvY2FsaXphdGlvbic7XG5pbXBvcnQgeyBNYXBJbmZvLCBFeHBvcnRJbWFnZSB9IGZyb20gJ0BrZXBsZXIuZ2wvdHlwZXMnO1xuaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tICdAa2VwbGVyLmdsL2Nsb3VkLXByb3ZpZGVycyc7XG5pbXBvcnQgeyBzZXRNYXBJbmZvLCBjbGVhbnVwRXhwb3J0SW1hZ2UgYXMgY2xlYW51cEV4cG9ydEltYWdlQWN0aW9uIH0gZnJvbSAnQGtlcGxlci5nbC9hY3Rpb25zJztcbmltcG9ydCB7IE1vZGFsRm9vdGVyIH0gZnJvbSAnLi4vY29tbW9uL21vZGFsJztcbmltcG9ydCB7IHVzZUNsb3VkTGlzdFByb3ZpZGVyIH0gZnJvbSAnLi4vaG9va3MvdXNlLWNsb3VkLWxpc3QtcHJvdmlkZXInO1xuXG5jb25zdCBTdHlsZWRTYXZlTWFwTW9kYWwgPSBzdHlsZWQuZGl2LmF0dHJzKHtcbiAgY2xhc3NOYW1lOiAnc2F2ZS1tYXAtbW9kYWwnXG59KWBcbiAgLnNhdmUtbWFwLW1vZGFsLWNvbnRlbnQge1xuICAgIG1pbi1oZWlnaHQ6IDQwMHB4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIH1cblxuICAuZGVzY3JpcHRpb24ge1xuICAgIHdpZHRoOiAzMDBweDtcbiAgfVxuXG4gIC5pbWFnZS1wcmV2aWV3LXBhbmVsIHtcbiAgICB3aWR0aDogMzAwcHg7XG5cbiAgICAuaW1hZ2UtcHJldmlldyB7XG4gICAgICBwYWRkaW5nOiAwO1xuICAgIH1cbiAgfVxuXG4gIC5tYXAtaW5mby1wYW5lbCB7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgfVxuXG4gIC5zYXZlLW1hcC1tb2RhbC1kZXNjcmlwdGlvbiB7XG4gICAgLm1vZGFsLXNlY3Rpb24tc3VidGl0bGUge1xuICAgICAgbWFyZ2luLWxlZnQ6IDZweDtcbiAgICB9XG4gIH1cbmA7XG5cbmNvbnN0IFN0eWxlZENvbXBhY3RFeHBvcnRTZWN0aW9uID0gc3R5bGVkKFN0eWxlZEV4cG9ydFNlY3Rpb24pYFxuICBtYXJnaW46IDVweCAwO1xuYDtcblxuY29uc3Qgbm9wID0gKCkgPT4ge1xuICByZXR1cm47XG59O1xuXG50eXBlIENoYXJhY3RlckxpbWl0cyA9IHtcbiAgdGl0bGU/OiBudW1iZXI7XG4gIGRlc2NyaXB0aW9uPzogbnVtYmVyO1xufTtcblxudHlwZSBTYXZlTWFwTW9kYWxQcm9wcyA9IHtcbiAgbWFwSW5mbzogTWFwSW5mbztcbiAgZXhwb3J0SW1hZ2U6IEV4cG9ydEltYWdlO1xuICBpc1Byb3ZpZGVyTG9hZGluZzogYm9vbGVhbjtcbiAgcHJvdmlkZXJFcnJvcj86IEVycm9yO1xuICBjaGFyYWN0ZXJMaW1pdHM/OiBDaGFyYWN0ZXJMaW1pdHM7XG5cbiAgLy8gY2FsbGJhY2tzXG4gIG9uVXBkYXRlSW1hZ2VTZXR0aW5nOiBJbWFnZU1vZGFsQ29udGFpbmVyUHJvcHNbJ29uVXBkYXRlSW1hZ2VTZXR0aW5nJ107XG4gIGNsZWFudXBFeHBvcnRJbWFnZTogdHlwZW9mIGNsZWFudXBFeHBvcnRJbWFnZUFjdGlvbjtcbiAgb25TZXRNYXBJbmZvOiB0eXBlb2Ygc2V0TWFwSW5mbztcbiAgb25Db25maXJtOiAocHJvdmlkZXI6IFByb3ZpZGVyKSA9PiB2b2lkO1xuICBvbkNhbmNlbDogKCkgPT4gdm9pZDtcbn07XG5cbnR5cGUgTWFwSW5mb1BhbmVsUHJvcHMgPSBQaWNrPFNhdmVNYXBNb2RhbFByb3BzLCAnbWFwSW5mbycgfCAnY2hhcmFjdGVyTGltaXRzJz4gJiB7XG4gIG9uQ2hhbmdlSW5wdXQ6IChcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgZXZlbnQ6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxUZXh0QXJlYUVsZW1lbnQgfCBIVE1MSW5wdXRFbGVtZW50PlxuICApID0+IHZvaWQ7XG59O1xuXG5leHBvcnQgY29uc3QgTWFwSW5mb1BhbmVsOiBSZWFjdC5GQzxNYXBJbmZvUGFuZWxQcm9wcz4gPSAoe1xuICBtYXBJbmZvLFxuICBjaGFyYWN0ZXJMaW1pdHMsXG4gIG9uQ2hhbmdlSW5wdXRcbn0pID0+IHtcbiAgY29uc3QgeyB0aXRsZSA9ICcnIH0gPSBtYXBJbmZvO1xuXG4gIC8vIEdlbmVyYXRlIGRlZmF1bHQgdGl0bGUgd2l0aCBjdXJyZW50IGRhdGUgYW5kIHRpbWUgaW4gWVlZWS1NTS1ERCBISDptbSBmb3JtYXRcbiAgY29uc3QgZ2V0RGVmYXVsdFRpdGxlID0gKCkgPT4ge1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgeWVhciA9IG5vdy5nZXRGdWxsWWVhcigpO1xuICAgIGNvbnN0IG1vbnRoID0gU3RyaW5nKG5vdy5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKTtcbiAgICBjb25zdCBkYXkgPSBTdHJpbmcobm93LmdldERhdGUoKSkucGFkU3RhcnQoMiwgJzAnKTtcbiAgICBjb25zdCBob3VycyA9IFN0cmluZyhub3cuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgJzAnKTtcbiAgICBjb25zdCBtaW51dGVzID0gU3RyaW5nKG5vdy5nZXRNaW51dGVzKCkpLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgcmV0dXJuIGAke3llYXJ9LSR7bW9udGh9LSR7ZGF5fSAke2hvdXJzfToke21pbnV0ZXN9YDtcbiAgfTtcblxuICBjb25zdCBkaXNwbGF5VGl0bGUgPSB0aXRsZSB8fCBnZXREZWZhdWx0VGl0bGUoKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwic2VsZWN0aW9uIG1hcC1pbmZvLXBhbmVsXCIgZGF0YS10ZXN0aWQ9e2RhdGFUZXN0SWRzLnByb3ZpZGVyTWFwSW5mb1BhbmVsfT5cbiAgICAgIDxTdHlsZWRNb2RhbFNlY3Rpb24gY2xhc3NOYW1lPVwic2F2ZS1tYXAtbW9kYWwtbmFtZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLXNlY3Rpb24tdGl0bGVcIj5OYW1lKjwvZGl2PlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxJbnB1dExpZ2h0XG4gICAgICAgICAgICBpZD1cIm1hcC10aXRsZVwiXG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICB2YWx1ZT17ZGlzcGxheVRpdGxlfVxuICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gb25DaGFuZ2VJbnB1dCgndGl0bGUnLCBlKX1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVHlwZSBtYXAgdGl0bGVcIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9TdHlsZWRNb2RhbFNlY3Rpb24+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5jb25zdCBTYXZlTWFwSGVhZGVyID0gKHsgY2xvdWRQcm92aWRlcnMgfSkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxTdHlsZWRFeHBvcnRTZWN0aW9uPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJkZXNjcmlwdGlvblwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRpdGxlXCI+XG4gICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2UgaWQ9eydtb2RhbC5zYXZlTWFwLnRpdGxlJ30gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3VidGl0bGVcIj5cbiAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZSBpZD17J21vZGFsLnNhdmVNYXAuc3VidGl0bGUnfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPFByb3ZpZGVyU2VsZWN0IGNsb3VkUHJvdmlkZXJzPXtjbG91ZFByb3ZpZGVyc30gLz5cbiAgICA8L1N0eWxlZEV4cG9ydFNlY3Rpb24+XG4gICk7XG59O1xuXG5jb25zdCBTVFlMRURfRVhQT1JUX1NFQ1RJT05fU1RZTEUgPSB7IG1hcmdpbjogJzJweCAwJyB9O1xuY29uc3QgUFJPVklERVJfTUFOQUdFUl9VUkxfU1RZTEUgPSB7IHRleHREZWNvcmF0aW9uOiAndW5kZXJsaW5lJyB9O1xuXG5mdW5jdGlvbiBTYXZlTWFwTW9kYWxGYWN0b3J5KCkge1xuICBjb25zdCBTYXZlTWFwTW9kYWw6IFJlYWN0LkZDPFNhdmVNYXBNb2RhbFByb3BzPiA9ICh7XG4gICAgbWFwSW5mbyxcbiAgICBleHBvcnRJbWFnZSxcbiAgICBjaGFyYWN0ZXJMaW1pdHMgPSBNQVBfSU5GT19DSEFSQUNURVIsXG4gICAgaXNQcm92aWRlckxvYWRpbmcsXG4gICAgcHJvdmlkZXJFcnJvcixcbiAgICBvblVwZGF0ZUltYWdlU2V0dGluZyA9IG5vcCxcbiAgICBjbGVhbnVwRXhwb3J0SW1hZ2UsXG4gICAgb25TZXRNYXBJbmZvLFxuICAgIG9uQ2FuY2VsLFxuICAgIG9uQ29uZmlybVxuICB9KSA9PiB7XG4gICAgY29uc3QgeyBwcm92aWRlciwgY2xvdWRQcm92aWRlcnMgfSA9IHVzZUNsb3VkTGlzdFByb3ZpZGVyKCk7XG5cbiAgICBjb25zdCBvbkNoYW5nZUlucHV0ID0gKFxuICAgICAga2V5OiBzdHJpbmcsXG4gICAgICB7IHRhcmdldDogeyB2YWx1ZSB9IH06IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxUZXh0QXJlYUVsZW1lbnQgfCBIVE1MSW5wdXRFbGVtZW50PlxuICAgICkgPT4ge1xuICAgICAgb25TZXRNYXBJbmZvKHsgW2tleV06IHZhbHVlIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBjb25maXJtQnV0dG9uID0gdXNlTWVtbyhcbiAgICAgICgpID0+ICh7XG4gICAgICAgIGxhcmdlOiB0cnVlLFxuICAgICAgICBkaXNhYmxlZDogQm9vbGVhbighKHByb3ZpZGVyICYmIG1hcEluZm8udGl0bGUpKSxcbiAgICAgICAgY2hpbGRyZW46ICdtb2RhbC5idXR0b24uc2F2ZSdcbiAgICAgIH0pLFxuICAgICAgW3Byb3ZpZGVyLCBtYXBJbmZvXVxuICAgICk7XG5cbiAgICBjb25zdCBjb25maXJtID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgaWYgKHByb3ZpZGVyKSB7XG4gICAgICAgIG9uQ29uZmlybShwcm92aWRlcik7XG4gICAgICB9XG4gICAgfSwgW29uQ29uZmlybSwgcHJvdmlkZXJdKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8SW1hZ2VNb2RhbENvbnRhaW5lclxuICAgICAgICBwcm92aWRlcj17cHJvdmlkZXJ9XG4gICAgICAgIG9uVXBkYXRlSW1hZ2VTZXR0aW5nPXtvblVwZGF0ZUltYWdlU2V0dGluZ31cbiAgICAgICAgY2xlYW51cEV4cG9ydEltYWdlPXtjbGVhbnVwRXhwb3J0SW1hZ2V9XG4gICAgICA+XG4gICAgICAgIDxTdHlsZWRTYXZlTWFwTW9kYWw+XG4gICAgICAgICAgPFN0eWxlZE1vZGFsQ29udGVudCBjbGFzc05hbWU9XCJzYXZlLW1hcC1tb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgICA8U2F2ZU1hcEhlYWRlciBjbG91ZFByb3ZpZGVycz17Y2xvdWRQcm92aWRlcnN9IC8+XG4gICAgICAgICAgICB7cHJvdmlkZXIgJiYgKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIHtwcm92aWRlciAmJiBwcm92aWRlci5uYW1lID09PSAnZGF0YXZpeicgPyAoXG4gICAgICAgICAgICAgICAgICA8U3R5bGVkRXhwb3J0U2VjdGlvbiBzdHlsZT17U1RZTEVEX0VYUE9SVF9TRUNUSU9OX1NUWUxFfT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWxlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXsxfVxuICAgICAgICAgICAgICAgICAgICAgICAgaHJlZj1cImh0dHBzOi8vYXV0aC5kYXRhdml6LmpwLz90b29sPWtlcGxlci1nbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17UFJPVklERVJfTUFOQUdFUl9VUkxfU1RZTEV9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAg5L+d5a2Y5riI44G/44OX44Ot44K444Kn44Kv44OI5LiA6KanXG4gICAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvU3R5bGVkRXhwb3J0U2VjdGlvbj5cbiAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICA8U3R5bGVkQ29tcGFjdEV4cG9ydFNlY3Rpb24+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRlc2NyaXB0aW9uIGltYWdlLXByZXZpZXctcGFuZWxcIj5cbiAgICAgICAgICAgICAgICAgICAgPEltYWdlUHJldmlld1xuICAgICAgICAgICAgICAgICAgICAgIGV4cG9ydEltYWdlPXtleHBvcnRJbWFnZX1cbiAgICAgICAgICAgICAgICAgICAgICB3aWR0aD17TUFQX1RIVU1CTkFJTF9ESU1FTlNJT04ud2lkdGh9XG4gICAgICAgICAgICAgICAgICAgICAgc2hvd0RpbWVuc2lvbj17ZmFsc2V9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIHtpc1Byb3ZpZGVyTG9hZGluZyA/IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPXtkYXRhVGVzdElkcy5wcm92aWRlckxvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2VsZWN0aW9uIG1hcC1zYXZpbmctYW5pbWF0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxVcGxvYWRBbmltYXRpb24gaWNvbj17cHJvdmlkZXIgJiYgcHJvdmlkZXIuaWNvbn0gLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8TWFwSW5mb1BhbmVsXG4gICAgICAgICAgICAgICAgICAgICAgbWFwSW5mbz17bWFwSW5mb31cbiAgICAgICAgICAgICAgICAgICAgICBjaGFyYWN0ZXJMaW1pdHM9e2NoYXJhY3RlckxpbWl0c31cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZUlucHV0PXtvbkNoYW5nZUlucHV0fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L1N0eWxlZENvbXBhY3RFeHBvcnRTZWN0aW9uPlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7cHJvdmlkZXJFcnJvciA/IChcbiAgICAgICAgICAgICAgPFN0YXR1c1BhbmVsXG4gICAgICAgICAgICAgICAgaXNMb2FkaW5nPXtmYWxzZX1cbiAgICAgICAgICAgICAgICBlcnJvcj17cHJvdmlkZXJFcnJvci5tZXNzYWdlfVxuICAgICAgICAgICAgICAgIHByb3ZpZGVySWNvbj17cHJvdmlkZXIgJiYgcHJvdmlkZXIuaWNvbn1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgIDwvU3R5bGVkTW9kYWxDb250ZW50PlxuICAgICAgICA8L1N0eWxlZFNhdmVNYXBNb2RhbD5cbiAgICAgICAgPE1vZGFsRm9vdGVyIGNhbmNlbD17b25DYW5jZWx9IGNvbmZpcm09e2NvbmZpcm19IGNvbmZpcm1CdXR0b249e2NvbmZpcm1CdXR0b259IC8+XG4gICAgICA8L0ltYWdlTW9kYWxDb250YWluZXI+XG4gICAgKTtcbiAgfTtcblxuICByZXR1cm4gU2F2ZU1hcE1vZGFsO1xufVxuXG5leHBvcnQgZGVmYXVsdCBTYXZlTWFwTW9kYWxGYWN0b3J5O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBR0EsSUFBQUEsTUFBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsaUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFHLG9CQUFBLEdBQUFE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QVMsRUFBQztJQUFXLGdCQUN4QnhDLE1BQUEsWUFBQXNFLGFBQUE7TUFDRW9DLEdBQUcsRUFBRSxDQUFFO01BQ1BnQixJQUFJLEVBQUMseUNBQXlDO01BQzlDZCxNQUFNLEVBQUMsUUFBUTtNQUNmZSxHQUFHLEVBQUMscUJBQXFCO01BQ3pCRixLQUFLLEVBQUVsQztJQUEyQixHQUNuQywwRUFFRSxDQUNBLENBQ2MsQ0FBQyxHQUNwQixJQUFJLGVBQ1J2RixNQUFBLFlBQUFzRSxhQUFBLENBQUM1QiwwQkFBMEIscUJBQ3pCMUMsTUFBQSxZQUFBc0UsYUFBQTtNQUFLOUIsU0FBUyxFQUFDO0lBQWlDLGdCQUM5Q3hDLE1BQUEsWUFBQXNFLGFBQUEsQ0FBQzVELGFBQUEsV0FBWTtNQUNYa0YsV0FBVyxFQUFFQSxXQUFZO01BQ3pCZ0MsS0FBSyxFQUFFQyw0QkFBdUIsQ0FBQ0QsS0FBTTtNQUNyQ0UsYUFBYSxFQUFFO0lBQU0sQ0FDdEIsQ0FDRSxDQUFDLEVBQ0wvQixpQkFBaUIsZ0JBQ2hCL0YsTUFBQSxZQUFBc0UsYUFBQTtNQUNFLGVBQWFDLGdCQUFXLENBQUN3RCxlQUFnQjtNQUN6Q3ZGLFNBQVMsRUFBQztJQUFnQyxnQkFFMUN4QyxNQUFBLFlBQUFzRSxhQUFBLENBQUNoRSxZQUFBLENBQUEwSCxlQUFlO01BQUNDLElBQUksRUFBRXhCLFFBQVEsSUFBSUEsUUFBUSxDQUFDd0I7SUFBSyxDQUFFLENBQ2hELENBQUMsZ0JBRU5qSSxNQUFBLFlBQUFzRSxhQUFBLENBQUN6QixZQUFZO01BQ1hHLE9BQU8sRUFBRUEsT0FBUTtNQUNqQkMsZUFBZSxFQUFFQSxlQUFnQjtNQUNqQ0MsYUFBYSxFQUFFQTtJQUFjLENBQzlCLENBRXVCLENBQzVCLENBQ0gsRUFDQThDLGFBQWEsZ0JBQ1poRyxNQUFBLFlBQUFzRSxhQUFBLENBQUNoRSxZQUFBLFdBQVc7TUFDVjRILFNBQVMsRUFBRSxLQUFNO01BQ2pCQyxLQUFLLEVBQUVuQyxhQUFhLENBQUNvQyxPQUFRO01BQzdCQyxZQUFZLEVBQUU1QixRQUFRLElBQUlBLFFBQVEsQ0FBQ3dCO0lBQUssQ0FDekMsQ0FBQyxHQUNBLElBQ2MsQ0FDRixDQUFDLGVBQ3JCakksTUFBQSxZQUFBc0UsYUFBQSxDQUFDMUQsTUFBQSxDQUFBMEgsV0FBVztNQUFDQyxNQUFNLEVBQUVsQyxRQUFTO01BQUNlLE9BQU8sRUFBRUEsT0FBUTtNQUFDTixhQUFhLEVBQUVBO0lBQWMsQ0FBRSxDQUM3RCxDQUFDO0VBRTFCLENBQUM7RUFFRCxPQUFPcEIsWUFBWTtBQUNyQjtBQUFDLElBQUE4QyxRQUFBLEdBQUExRixPQUFBLGNBRWMyQyxtQkFBbUIiLCJpZ25vcmVMaXN0IjpbXX0=